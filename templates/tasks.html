{% extends 'navbar.html' %}
{% block content %}
    
<body>
<form action="" method="get">
    <input type="text" name="search" placeholder="Search" value="{{ request.GET.search }}">
    <input type="submit" value="Search">
</form>

{% for i in status %}
    <a href="?status={{ i.id }}" class="btn btn-secondary">{{ i.title }}</a>
{% endfor %}
<h2>
    Sort by:
</h2>
<a href="?sort=newest" class="btn btn-secondary">Newest</a>
<a href="?sort=oldest" class="btn btn-secondary">Oldest</a>
    
<div class="card-container">
  {% for task in tasks %}
    <div class="card border-info mb-4" style="max-width: 35rem; margin-right: 40px;">
      <div class="card-header">{{ task.status }}</div>
      <div class="card-body">
        <h5 class="card-title">{{ task.title }}</h5>
        <p class="card-text">{{ task.description }}</p>
        <h6 class="card-text">{{ task.created_at }}</h6>  
        <a href="/tasks/{{ task.id }}" class="btn btn-primary">Info</a>
      </div>
    </div>
  {% endfor %}

    {% for i in pages %}
        <a href="?page={{i}}" class="btn btn-secondary">{{i}}</a>
    {% endfor %}

</div>
</body>
    
<style>
  .card-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start;
    margin-left: 50px;
    margin-top: 50px;
  }

  .card {
    margin-bottom: 20px;
    flex: 0 0 calc(50% - 20px); /* Изменение ширины карточки на половину ширины контейнера */
  }
</style>
{% endblock %}
